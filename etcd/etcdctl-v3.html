
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>etcdctl命令工具-V3 · Kubernetes 学习笔记</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="胡伟煌">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-toc-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-image-captions/image-captions.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-okaidia.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-disqus/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-donate/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="etcdctl-v2.html" />
    
    

    
        <link rel="shortcut icon" href='../images/favicon.ico' type="image/x-icon">
    
    
        <link rel="bookmark" href='../images/favicon.ico' type="image/x-icon">
    
    
        <link rel="apple-touch-icon" href='../images/favicon.ico'>
    
    
        
        <link rel="apple-touch-icon" sizes="120x120" href="../images/favicon.ico">
        
        <link rel="apple-touch-icon" sizes="180x180" href="../images/favicon.ico">
        
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"repo":"huweihuang/kubernetes-notes","types":["star"],"size":"small"};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://www.huweihuang.com/golang-notes/" target="_blank" class="custom-link">Golang 学习笔记</a>
        </li>
    
        
        <li>
            <a href="https://www.huweihuang.com/linux-notes/" target="_blank" class="custom-link">Linux 学习笔记</a>
        </li>
    
        
        <li>
            <a href="https://www.huweihuang.com/blockchain-notes/" target="_blank" class="custom-link">Blockchain 学习笔记</a>
        </li>
    
        
        <li>
            <a href="https://www.huweihuang.com/data-structure-notes/" target="_blank" class="custom-link">数据结构学习笔记</a>
        </li>
    
        
        <li>
            <a href="https://www.huweihuang.com/kubernetes-notes/" target="_blank" class="custom-link">Kubernetes 学习笔记</a>
        </li>
    
        
        <li>
            <a href="https://www.huweihuang.com/k8s-source-code-analysis/" target="_blank" class="custom-link">Kubernetes 源码分析笔记</a>
        </li>
    
        
        <li>
            <a href="https://www.huweihuang.com/docker-notes/" target="_blank" class="custom-link">Docker 学习笔记</a>
        </li>
    
        
        <li>
            <a href="https://www.huweihuang.com/python-notes/" target="_blank" class="custom-link">Python 学习笔记</a>
        </li>
    
        
        <li>
            <a href="https://www.huweihuang.com" target="_blank" class="custom-link">胡伟煌的博客</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        <li class="header">目录</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                        <b>1.1.</b>
                    
                    目录
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">云原生体系</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../paas/12-factor.html">
            
                <a href="../paas/12-factor.html">
            
                    
                        <b>2.1.</b>
                    
                    12-Factor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../paas/k8s.html">
            
                <a href="../paas/k8s.html">
            
                    
                        <b>2.2.</b>
                    
                    k8s知识体系
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">安装与配置</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../setup/install-k8s-by-kubespray.html">
            
                <a href="../setup/install-k8s-by-kubespray.html">
            
                    
                        <b>3.1.</b>
                    
                    使用kubespray安装kubernetes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../setup/install-k8s-by-minikube.html">
            
                <a href="../setup/install-k8s-by-minikube.html">
            
                    
                        <b>3.2.</b>
                    
                    使用minikube安装kubernetes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../setup/install-k8s-by-kind.html">
            
                <a href="../setup/install-k8s-by-kind.html">
            
                    
                        <b>3.3.</b>
                    
                    使用kind安装kubernetes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../setup/k8s-cert.html">
            
                <a href="../setup/k8s-cert.html">
            
                    
                        <b>3.4.</b>
                    
                    k8s证书及秘钥
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">基本概念</li>
        
        
    
        <li class="chapter " data-level="4.1" >
            
                <span>
            
                    
                        <b>4.1.</b>
                    
                    kubernetes架构
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="../concepts/architecture/kubernetes-architecture.html">
            
                <a href="../concepts/architecture/kubernetes-architecture.html">
            
                    
                        <b>4.1.1.</b>
                    
                    Kubernetes总架构图
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="../concepts/architecture/paas-based-on-docker-and-kubernetes.html">
            
                <a href="../concepts/architecture/paas-based-on-docker-and-kubernetes.html">
            
                    
                        <b>4.1.2.</b>
                    
                    基于Docker及Kubernetes技术构建容器云（PaaS）平台概述
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.2" >
            
                <span>
            
                    
                        <b>4.2.</b>
                    
                    kubernetes对象
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.2.1" data-path="../concepts/object/understanding-kubernetes-objects.html">
            
                <a href="../concepts/object/understanding-kubernetes-objects.html">
            
                    
                        <b>4.2.1.</b>
                    
                    理解kubernetes对象
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.2" data-path="../concepts/object/kubernetes-basic-concepts.html">
            
                <a href="../concepts/object/kubernetes-basic-concepts.html">
            
                    
                        <b>4.2.2.</b>
                    
                    kubernetes常用对象说明
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.3" >
            
                <span>
            
                    
                        <b>4.3.</b>
                    
                    Pod
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.3.1" data-path="../concepts/pod/pod.html">
            
                <a href="../concepts/pod/pod.html">
            
                    
                        <b>4.3.1.</b>
                    
                    Pod介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.2" data-path="../concepts/pod/pod-definition.html">
            
                <a href="../concepts/pod/pod-definition.html">
            
                    
                        <b>4.3.2.</b>
                    
                    Pod定义文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.3" data-path="../concepts/pod/pod-lifecycle.html">
            
                <a href="../concepts/pod/pod-lifecycle.html">
            
                    
                        <b>4.3.3.</b>
                    
                    Pod生命周期
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.4" data-path="../concepts/pod/pod-probe.html">
            
                <a href="../concepts/pod/pod-probe.html">
            
                    
                        <b>4.3.4.</b>
                    
                    Pod健康检查
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.5" data-path="../concepts/pod/pod-volume.html">
            
                <a href="../concepts/pod/pod-volume.html">
            
                    
                        <b>4.3.5.</b>
                    
                    Pod存储卷
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.6" data-path="../concepts/pod/pod-scheduler.html">
            
                <a href="../concepts/pod/pod-scheduler.html">
            
                    
                        <b>4.3.6.</b>
                    
                    Pod控制器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.7" data-path="../concepts/pod/pod-operation.html">
            
                <a href="../concepts/pod/pod-operation.html">
            
                    
                        <b>4.3.7.</b>
                    
                    Pod伸缩与升级
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.4" >
            
                <span>
            
                    
                        <b>4.4.</b>
                    
                    配置
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.4.1" data-path="../concepts/pod/pod-configmap.html">
            
                <a href="../concepts/pod/pod-configmap.html">
            
                    
                        <b>4.4.1.</b>
                    
                    ConfigMap
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.5" >
            
                <span>
            
                    
                        <b>4.5.</b>
                    
                    Workload
            
                </span>
            

            
        </li>
    

    
        
        <li class="header">核心原理</li>
        
        
    
        <li class="chapter " data-level="5.1" >
            
                <span>
            
                    
                        <b>5.1.</b>
                    
                    核心组件
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.1" data-path="../principle/kubernetes-core-principle-api-server.html">
            
                <a href="../principle/kubernetes-core-principle-api-server.html">
            
                    
                        <b>5.1.1.</b>
                    
                    Api Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.2" data-path="../principle/kubernetes-core-principle-controller-manager.html">
            
                <a href="../principle/kubernetes-core-principle-controller-manager.html">
            
                    
                        <b>5.1.2.</b>
                    
                    Controller Manager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.3" data-path="../principle/kubernetes-core-principle-scheduler.html">
            
                <a href="../principle/kubernetes-core-principle-scheduler.html">
            
                    
                        <b>5.1.3.</b>
                    
                    Scheduler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.4" data-path="../principle/kubernetes-core-principle-kubelet.html">
            
                <a href="../principle/kubernetes-core-principle-kubelet.html">
            
                    
                        <b>5.1.4.</b>
                    
                    Kubelet
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.2" >
            
                <span>
            
                    
                        <b>5.2.</b>
                    
                    流程图
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.2.1" data-path="../principle/flow/pod-flow.html">
            
                <a href="../principle/flow/pod-flow.html">
            
                    
                        <b>5.2.1.</b>
                    
                    Pod创建流程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2.2" data-path="../principle/flow/pvc-flow.html">
            
                <a href="../principle/flow/pvc-flow.html">
            
                    
                        <b>5.2.2.</b>
                    
                    PVC创建流程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">网络</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../network/docker-network.html">
            
                <a href="../network/docker-network.html">
            
                    
                        <b>6.1.</b>
                    
                    Docker网络
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../network/kubernetes-network.html">
            
                <a href="../network/kubernetes-network.html">
            
                    
                        <b>6.2.</b>
                    
                    K8S网络
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" >
            
                <span>
            
                    
                        <b>6.3.</b>
                    
                    网络插件
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.3.1" data-path="../network/flannel/flannel-introduction.html">
            
                <a href="../network/flannel/flannel-introduction.html">
            
                    
                        <b>6.3.1.</b>
                    
                    Flannel介绍
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6.4" >
            
                <span>
            
                    
                        <b>6.4.</b>
                    
                    CNI
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.4.1" data-path="../network/cni/cni.html">
            
                <a href="../network/cni/cni.html">
            
                    
                        <b>6.4.1.</b>
                    
                    CNI接口介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4.2" data-path="../network/cni/macvlan.html">
            
                <a href="../network/cni/macvlan.html">
            
                    
                        <b>6.4.2.</b>
                    
                    Macvlan介绍
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">存储</li>
        
        
    
        <li class="chapter " data-level="7.1" >
            
                <span>
            
                    
                        <b>7.1.</b>
                    
                    存储卷概念
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1.1" data-path="../storage/volume.html">
            
                <a href="../storage/volume.html">
            
                    
                        <b>7.1.1.</b>
                    
                    Volume
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.1.2" data-path="../storage/persistent-volume.html">
            
                <a href="../storage/persistent-volume.html">
            
                    
                        <b>7.1.2.</b>
                    
                    Persistent Volume
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.1.3" data-path="../storage/persistent-volume-claim.html">
            
                <a href="../storage/persistent-volume-claim.html">
            
                    
                        <b>7.1.3.</b>
                    
                    Persistent Volume Claim
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.1.4" data-path="../storage/storage-class.html">
            
                <a href="../storage/storage-class.html">
            
                    
                        <b>7.1.4.</b>
                    
                    Storage Class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.1.5" data-path="../storage/dynamic-provisioning.html">
            
                <a href="../storage/dynamic-provisioning.html">
            
                    
                        <b>7.1.5.</b>
                    
                    Dynamic Volume Provisioning
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7.2" >
            
                <span>
            
                    
                        <b>7.2.</b>
                    
                    CSI
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.2.1" data-path="../csi/ceph/csi-cephfs-plugin.html">
            
                <a href="../csi/ceph/csi-cephfs-plugin.html">
            
                    
                        <b>7.2.1.</b>
                    
                    csi-cephfs-plugin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2.2" data-path="../csi/ceph/deploy-csi-cephfs.html">
            
                <a href="../csi/ceph/deploy-csi-cephfs.html">
            
                    
                        <b>7.2.2.</b>
                    
                    部署csi-cephfs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2.3" data-path="../csi/provisioner/cephfs-provisioner.html">
            
                <a href="../csi/provisioner/cephfs-provisioner.html">
            
                    
                        <b>7.2.3.</b>
                    
                    部署cephfs-provisioner
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2.4" data-path="../csi/flexvolume.html">
            
                <a href="../csi/flexvolume.html">
            
                    
                        <b>7.2.4.</b>
                    
                    FlexVolume介绍
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">资源隔离</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="../resource/resource-quota.html">
            
                <a href="../resource/resource-quota.html">
            
                    
                        <b>8.1.</b>
                    
                    资源配额
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="../resource/limit-range.html">
            
                <a href="../resource/limit-range.html">
            
                    
                        <b>8.2.</b>
                    
                    Pod限额
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.3" data-path="../resource/quality-of-service.html">
            
                <a href="../resource/quality-of-service.html">
            
                    
                        <b>8.3.</b>
                    
                    资源服务质量
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.4" data-path="../resource/lxcfs/lxcfs.html">
            
                <a href="../resource/lxcfs/lxcfs.html">
            
                    
                        <b>8.4.</b>
                    
                    Lxcfs资源视图隔离
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">运维指南</li>
        
        
    
        <li class="chapter " data-level="9.1" >
            
                <span>
            
                    
                        <b>9.1.</b>
                    
                    kubectl工具
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1.1" data-path="../operation/install-kubectl.html">
            
                <a href="../operation/install-kubectl.html">
            
                    
                        <b>9.1.1.</b>
                    
                    kubectl安装与配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.1.2" data-path="../operation/kubectl-commands.html">
            
                <a href="../operation/kubectl-commands.html">
            
                    
                        <b>9.1.2.</b>
                    
                    kubectl命令说明
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.1.3" data-path="../operation/kubectl-alias.html">
            
                <a href="../operation/kubectl-alias.html">
            
                    
                        <b>9.1.3.</b>
                    
                    kubectl命令别名
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="../operation/kubernetes-troubleshooting.html">
            
                <a href="../operation/kubernetes-troubleshooting.html">
            
                    
                        <b>9.2.</b>
                    
                    kubernetes集群问题排查
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.3" >
            
                <span>
            
                    
                        <b>9.3.</b>
                    
                    节点调度
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.3.1" data-path="../operation/safely-drain-node.html">
            
                <a href="../operation/safely-drain-node.html">
            
                    
                        <b>9.3.1.</b>
                    
                    安全迁移节点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.3.2" data-path="../operation/nodeselector-and-taint.html">
            
                <a href="../operation/nodeselector-and-taint.html">
            
                    
                        <b>9.3.2.</b>
                    
                    指定Node调度与隔离
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="9.4" >
            
                <span>
            
                    
                        <b>9.4.</b>
                    
                    镜像仓库配置
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.4.1" data-path="../operation/registry/config-private-registry.html">
            
                <a href="../operation/registry/config-private-registry.html">
            
                    
                        <b>9.4.1.</b>
                    
                    配置私有的镜像仓库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.4.2" data-path="../operation/registry/ImagePullSecrets.html">
            
                <a href="../operation/registry/ImagePullSecrets.html">
            
                    
                        <b>9.4.2.</b>
                    
                    拉取私有镜像
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">开发指南</li>
        
        
    
        <li class="chapter " data-level="10.1" data-path="../develop/client-go.html">
            
                <a href="../develop/client-go.html">
            
                    
                        <b>10.1.</b>
                    
                    client-go的使用及源码分析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.2" >
            
                <span>
            
                    
                        <b>10.2.</b>
                    
                    CSI插件开发
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="10.2.1" data-path="../develop/nfs-client-provisioner.html">
            
                <a href="../develop/nfs-client-provisioner.html">
            
                    
                        <b>10.2.1.</b>
                    
                    nfs-client-provisioner源码分析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.2.2" data-path="../develop/csi-provisioner.html">
            
                <a href="../develop/csi-provisioner.html">
            
                    
                        <b>10.2.2.</b>
                    
                    csi-provisioner源码分析
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="10.3" >
            
                <span>
            
                    
                        <b>10.3.</b>
                    
                    operator开发
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="10.3.1" data-path="../develop/operator/kubebuilder.html">
            
                <a href="../develop/operator/kubebuilder.html">
            
                    
                        <b>10.3.1.</b>
                    
                    kubebuilder的使用
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">问题排查</li>
        
        
    
        <li class="chapter " data-level="11.1" >
            
                <span>
            
                    
                        <b>11.1.</b>
                    
                    节点相关问题
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="11.1.1" data-path="../trouble-shooting/node/keycreate-permission-denied.html">
            
                <a href="../trouble-shooting/node/keycreate-permission-denied.html">
            
                    
                        <b>11.1.1.</b>
                    
                    keycreate permission denied
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.1.2" data-path="../trouble-shooting/node/cgroup-pid-error.html">
            
                <a href="../trouble-shooting/node/cgroup-pid-error.html">
            
                    
                        <b>11.1.2.</b>
                    
                    Cgroup不支持pid资源
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.1.3" data-path="../trouble-shooting/node/cgroup-subsystem-not-mount.html">
            
                <a href="../trouble-shooting/node/cgroup-subsystem-not-mount.html">
            
                    
                        <b>11.1.3.</b>
                    
                    Cgroup子系统无法挂载
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="11.2" data-path="../trouble-shooting/pod-evicted.html">
            
                <a href="../trouble-shooting/pod-evicted.html">
            
                    
                        <b>11.2.</b>
                    
                    Pod驱逐
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.3" data-path="../trouble-shooting/pod-image-error.html">
            
                <a href="../trouble-shooting/pod-image-error.html">
            
                    
                        <b>11.3.</b>
                    
                    镜像拉取失败问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="11.4" data-path="../trouble-shooting/pvc-terminating.html">
            
                <a href="../trouble-shooting/pvc-terminating.html">
            
                    
                        <b>11.4.</b>
                    
                    PVC Terminating
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">源码分析</li>
        
        
    
        <li class="chapter " data-level="12.1" data-path="../code-analysis/code-analysis-notes.html">
            
                <a href="../code-analysis/code-analysis-notes.html">
            
                    
                        <b>12.1.</b>
                    
                    Kubernetes源码分析笔记
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.2" >
            
                <span>
            
                    
                        <b>12.2.</b>
                    
                    kubelet
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="12.2.1" data-path="../code-analysis/kubelet/NewKubeletCommand.html">
            
                <a href="../code-analysis/kubelet/NewKubeletCommand.html">
            
                    
                        <b>12.2.1.</b>
                    
                    NewKubeletCommand
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.2.2" data-path="../code-analysis/kubelet/NewMainKubelet.html">
            
                <a href="../code-analysis/kubelet/NewMainKubelet.html">
            
                    
                        <b>12.2.2.</b>
                    
                    NewMainKubelet
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.2.3" data-path="../code-analysis/kubelet/startKubelet.html">
            
                <a href="../code-analysis/kubelet/startKubelet.html">
            
                    
                        <b>12.2.3.</b>
                    
                    startKubelet
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.2.4" data-path="../code-analysis/kubelet/syncLoopIteration.html">
            
                <a href="../code-analysis/kubelet/syncLoopIteration.html">
            
                    
                        <b>12.2.4.</b>
                    
                    syncLoopIteration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.2.5" data-path="../code-analysis/kubelet/syncPod.html">
            
                <a href="../code-analysis/kubelet/syncPod.html">
            
                    
                        <b>12.2.5.</b>
                    
                    syncPod
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="12.3" >
            
                <span>
            
                    
                        <b>12.3.</b>
                    
                    kube-controller-manager
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="12.3.1" data-path="../code-analysis/kube-controller-manager/NewControllerManagerCommand.html">
            
                <a href="../code-analysis/kube-controller-manager/NewControllerManagerCommand.html">
            
                    
                        <b>12.3.1.</b>
                    
                    NewControllerManagerCommand
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.3.2" data-path="../code-analysis/kube-controller-manager/deployment-controller.html">
            
                <a href="../code-analysis/kube-controller-manager/deployment-controller.html">
            
                    
                        <b>12.3.2.</b>
                    
                    DeploymentController
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.3.3" data-path="../code-analysis/kube-controller-manager/sharedIndexInformer.html">
            
                <a href="../code-analysis/kube-controller-manager/sharedIndexInformer.html">
            
                    
                        <b>12.3.3.</b>
                    
                    Informer机制
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="12.4" >
            
                <span>
            
                    
                        <b>12.4.</b>
                    
                    kube-scheduler
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="12.4.1" data-path="../code-analysis/kube-scheduler/NewSchedulerCommand.html">
            
                <a href="../code-analysis/kube-scheduler/NewSchedulerCommand.html">
            
                    
                        <b>12.4.1.</b>
                    
                    NewSchedulerCommand
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.4.2" data-path="../code-analysis/kube-scheduler/registerAlgorithmProvider.html">
            
                <a href="../code-analysis/kube-scheduler/registerAlgorithmProvider.html">
            
                    
                        <b>12.4.2.</b>
                    
                    registerAlgorithmProvider
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.4.3" data-path="../code-analysis/kube-scheduler/scheduleOne.html">
            
                <a href="../code-analysis/kube-scheduler/scheduleOne.html">
            
                    
                        <b>12.4.3.</b>
                    
                    scheduleOne
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.4.4" data-path="../code-analysis/kube-scheduler/findNodesThatFit.html">
            
                <a href="../code-analysis/kube-scheduler/findNodesThatFit.html">
            
                    
                        <b>12.4.4.</b>
                    
                    findNodesThatFit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.4.5" data-path="../code-analysis/kube-scheduler/PrioritizeNodes.html">
            
                <a href="../code-analysis/kube-scheduler/PrioritizeNodes.html">
            
                    
                        <b>12.4.5.</b>
                    
                    PrioritizeNodes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="12.4.6" data-path="../code-analysis/kube-scheduler/preempt.html">
            
                <a href="../code-analysis/kube-scheduler/preempt.html">
            
                    
                        <b>12.4.6.</b>
                    
                    preempt
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="12.5" >
            
                <span>
            
                    
                        <b>12.5.</b>
                    
                    kube-apiserver
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="12.5.1" data-path="../code-analysis/kube-apiserver/NewAPIServerCommand.html">
            
                <a href="../code-analysis/kube-apiserver/NewAPIServerCommand.html">
            
                    
                        <b>12.5.1.</b>
                    
                    NewAPIServerCommand
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Runtime</li>
        
        
    
        <li class="chapter " data-level="13.1" >
            
                <span>
            
                    
                        <b>13.1.</b>
                    
                    Runtime
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="13.1.1" data-path="../runtime/runtime.html">
            
                <a href="../runtime/runtime.html">
            
                    
                        <b>13.1.1.</b>
                    
                    Runc和Containerd概述
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="13.2" >
            
                <span>
            
                    
                        <b>13.2.</b>
                    
                    Docker
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="13.2.1" data-path="../docker/docker-notes.html">
            
                <a href="../docker/docker-notes.html">
            
                    
                        <b>13.2.1.</b>
                    
                    Docker学习笔记
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="13.3" >
            
                <span>
            
                    
                        <b>13.3.</b>
                    
                    Kata Container
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="13.3.1" data-path="../runtime/kata/kata-container.html">
            
                <a href="../runtime/kata/kata-container.html">
            
                    
                        <b>13.3.1.</b>
                    
                    kata容器简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="13.3.2" data-path="../runtime/kata/kata-container-conf.html">
            
                <a href="../runtime/kata/kata-container-conf.html">
            
                    
                        <b>13.3.2.</b>
                    
                    kata配置
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Etcd</li>
        
        
    
        <li class="chapter " data-level="14.1" data-path="etcd-introduction.html">
            
                <a href="etcd-introduction.html">
            
                    
                        <b>14.1.</b>
                    
                    Etcd介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="14.2" data-path="raft.html">
            
                <a href="raft.html">
            
                    
                        <b>14.2.</b>
                    
                    Raft算法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="14.3" data-path="etcd-setup-flags.html">
            
                <a href="etcd-setup-flags.html">
            
                    
                        <b>14.3.</b>
                    
                    Etcd启动配置参数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="14.4" data-path="etcd-auth-and-security.html">
            
                <a href="etcd-auth-and-security.html">
            
                    
                        <b>14.4.</b>
                    
                    Etcd访问控制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="14.5" >
            
                <span>
            
                    
                        <b>14.5.</b>
                    
                    etcdctl命令工具
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="14.5.1" data-path="etcdctl-v3.html">
            
                <a href="etcdctl-v3.html">
            
                    
                        <b>14.5.1.</b>
                    
                    etcdctl命令工具-V3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="14.5.2" data-path="etcdctl-v2.html">
            
                <a href="etcdctl-v2.html">
            
                    
                        <b>14.5.2.</b>
                    
                    etcdctl命令工具-V2
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="14.6" data-path="k8s-etcd-data.html">
            
                <a href="k8s-etcd-data.html">
            
                    
                        <b>14.6.</b>
                    
                    Etcd中的k8s数据
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="14.7" data-path="etcd-operator-usage.html">
            
                <a href="etcd-operator-usage.html">
            
                    
                        <b>14.7.</b>
                    
                    Etcd-Operator的使用
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">多集群管理</li>
        
        
    
        <li class="chapter " data-level="15.1" data-path="../multi-cluster/k8s-multi-cluster-thinking.html">
            
                <a href="../multi-cluster/k8s-multi-cluster-thinking.html">
            
                    
                        <b>15.1.</b>
                    
                    k8s多集群管理的思考
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.2" >
            
                <span>
            
                    
                        <b>15.2.</b>
                    
                    Virtual Kubelet
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="15.2.1" data-path="../virtual-kubelet/virtual-kubelet.html">
            
                <a href="../virtual-kubelet/virtual-kubelet.html">
            
                    
                        <b>15.2.1.</b>
                    
                    Virtual Kubelet介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="15.2.2" data-path="../virtual-kubelet/virtual-kubelet-cmd.html">
            
                <a href="../virtual-kubelet/virtual-kubelet-cmd.html">
            
                    
                        <b>15.2.2.</b>
                    
                    Virtual Kubelet 命令
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="15.3" >
            
                <span>
            
                    
                        <b>15.3.</b>
                    
                    Karmada
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="15.3.1" data-path="../multi-cluster/karmada.html">
            
                <a href="../multi-cluster/karmada.html">
            
                    
                        <b>15.3.1.</b>
                    
                    Karmada介绍
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">KubeEdge</li>
        
        
    
        <li class="chapter " data-level="16.1" data-path="../kubeedge/kubeedge-arch.html">
            
                <a href="../kubeedge/kubeedge-arch.html">
            
                    
                        <b>16.1.</b>
                    
                    KubeEdge介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="16.2" >
            
                <span>
            
                    
                        <b>16.2.</b>
                    
                    KubeEdge源码分析
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="16.2.1" data-path="../kubeedge/code-analysis/cloudcore.html">
            
                <a href="../kubeedge/code-analysis/cloudcore.html">
            
                    
                        <b>16.2.1.</b>
                    
                    cloudcore
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="16.2.2" data-path="../kubeedge/code-analysis/edgecore.html">
            
                <a href="../kubeedge/code-analysis/edgecore.html">
            
                    
                        <b>16.2.2.</b>
                    
                    edgecore
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">监控体系</li>
        
        
    
        <li class="chapter " data-level="17.1" data-path="../monitor/kubernetes-cluster-monitoring.html">
            
                <a href="../monitor/kubernetes-cluster-monitoring.html">
            
                    
                        <b>17.1.</b>
                    
                    监控体系介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="17.2" data-path="../monitor/cadvisor-introduction.html">
            
                <a href="../monitor/cadvisor-introduction.html">
            
                    
                        <b>17.2.</b>
                    
                    cAdvisor介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="17.3" data-path="../monitor/heapster-introduction.html">
            
                <a href="../monitor/heapster-introduction.html">
            
                    
                        <b>17.3.</b>
                    
                    Heapster介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="17.4" data-path="../monitor/influxdb-introduction.html">
            
                <a href="../monitor/influxdb-introduction.html">
            
                    
                        <b>17.4.</b>
                    
                    Influxdb介绍
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">GPU</li>
        
        
    
        <li class="chapter " data-level="18.1" data-path="../gpu/nvidia-device-plugin.html">
            
                <a href="../gpu/nvidia-device-plugin.html">
            
                    
                        <b>18.1.</b>
                    
                    nvidia-device-plugin介绍
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">虚拟化</li>
        
        
    
        <li class="chapter " data-level="19.1" data-path="../kvm/vm-concept.html">
            
                <a href="../kvm/vm-concept.html">
            
                    
                        <b>19.1.</b>
                    
                    虚拟化相关概念
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="19.2" >
            
                <span>
            
                    
                        <b>19.2.</b>
                    
                    KubeVirt
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="19.2.1" data-path="../kvm/kubevirt/kubevirt-introduction.html">
            
                <a href="../kvm/kubevirt/kubevirt-introduction.html">
            
                    
                        <b>19.2.1.</b>
                    
                    KubeVirt的介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="19.2.2" data-path="../kvm/kubevirt/kubevirt-installation.html">
            
                <a href="../kvm/kubevirt/kubevirt-installation.html">
            
                    
                        <b>19.2.2.</b>
                    
                    KubeVirt的使用
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >etcdctl命令工具-V3</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <blockquote>
<p><code>etcdctl</code>&#x7684;<code>v3</code>&#x7248;&#x672C;&#x4E0E;<code>v2</code>&#x7248;&#x672C;&#x4F7F;&#x7528;&#x547D;&#x4EE4;&#x6709;&#x6240;&#x4E0D;&#x540C;&#xFF0C;&#x672C;&#x6587;&#x4ECB;&#x7ECD;<code>etcdctl v3</code>&#x7248;&#x672C;&#x7684;&#x547D;&#x4EE4;&#x5DE5;&#x5177;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x3002;</p>
</blockquote>
<h1 id="1-etcdctl&#x7684;&#x5B89;&#x88C5;">1. etcdctl&#x7684;&#x5B89;&#x88C5;</h1>
<p><code>etcdctl</code>&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x53EF;&#x4EE5;&#x5728; <a href="https://github.com/coreos/etcd/releases" target="_blank">github.com/coreos/etcd/releases</a> &#x9009;&#x62E9;&#x5BF9;&#x5E94;&#x7684;&#x7248;&#x672C;&#x4E0B;&#x8F7D;&#xFF0C;&#x4F8B;&#x5982;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x4EE5;&#x4E0B;<code>install_etcdctl.sh</code>&#x7684;&#x811A;&#x672C;&#xFF0C;&#x4FEE;&#x6539;&#x5176;&#x4E2D;&#x7684;&#x7248;&#x672C;&#x4FE1;&#x606F;&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token shebang important">#!/bin/bash</span>
ETCD_VER<span class="token operator">=</span>v3.3.4
ETCD_DIR<span class="token operator">=</span>etcd-download
DOWNLOAD_URL<span class="token operator">=</span>https://github.com/coreos/etcd/releases/download

<span class="token comment"># Download</span>
<span class="token function">mkdir</span> <span class="token variable">${ETCD_DIR}</span>
<span class="token function">cd</span> <span class="token variable">${ETCD_DIR}</span>
<span class="token function">wget</span> <span class="token variable">${DOWNLOAD_URL}</span>/<span class="token variable">${ETCD_VER}</span>/etcd-<span class="token variable">${ETCD_VER}</span>-linux-amd64.tar.gz 
<span class="token function">tar</span> -xzvf etcd-<span class="token variable">${ETCD_VER}</span>-linux-amd64.tar.gz

<span class="token comment"># install</span>
<span class="token function">cd</span> etcd-<span class="token variable">${ETCD_VER}</span>-linux-amd64
<span class="token function">cp</span> etcdctl /usr/local/bin/
</code></pre>
<h1 id="2-etcdctl-v3">2. etcdctl V3</h1>
<p>&#x4F7F;&#x7528;<code>etcdctl</code>v3&#x7684;&#x7248;&#x672C;&#x65F6;&#xFF0C;&#x9700;&#x8BBE;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;<code>ETCDCTL_API=3</code>&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token function">export</span> ETCDCTL_API<span class="token operator">=</span>3

<span class="token comment"># &#x6216;&#x8005;&#x5728;`/etc/profile`&#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0;&#x73AF;&#x5883;&#x53D8;&#x91CF;</span>
<span class="token function">vi</span> /etc/profile
<span class="token punctuation">..</span>.
<span class="token function">export</span> ETCDCTL_API<span class="token operator">=</span>3
<span class="token punctuation">..</span>.
<span class="token function">source</span> /etc/profile

<span class="token comment"># &#x6216;&#x8005;&#x5728;&#x547D;&#x4EE4;&#x6267;&#x884C;&#x524D;&#x52A0; ETCDCTL_API=3</span>
ETCDCTL_API<span class="token operator">=</span>3 etcdctl --endpoints<span class="token operator">=</span><span class="token variable">$ENDPOINTS</span> member list
</code></pre>
<p>&#x67E5;&#x770B;&#x5F53;&#x524D;etcdctl&#x7684;&#x7248;&#x672C;&#x4FE1;&#x606F;<code>etcdctl version</code>&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>root@k8s-dbg-master-1 etcd<span class="token punctuation">]</span><span class="token comment"># etcdctl version</span>
etcdctl version: 3.3.4
API version: 3.3
</code></pre>
<p>&#x66F4;&#x591A;&#x547D;&#x4EE4;&#x5E2E;&#x52A9;&#x53EF;&#x4EE5;&#x67E5;&#x8BE2;<code>etcdctl &#x2014;help</code>&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>root@k8s-dbg-master-1 etcd<span class="token punctuation">]</span><span class="token comment"># etcdctl --help</span>
NAME:
    etcdctl - A simple <span class="token function">command</span> line client <span class="token keyword">for</span> etcd3.

USAGE:
    etcdctl

VERSION:
    3.3.4

API VERSION:
    3.3


COMMANDS:
    get            Gets the key or a range of keys
    put            Puts the given key into the store
    del            Removes the specified key or range of keys <span class="token punctuation">[</span>key, range_end<span class="token punctuation">)</span>
    txn            Txn processes all the requests <span class="token keyword">in</span> one transaction
    compaction        Compacts the event <span class="token function">history</span> <span class="token keyword">in</span> etcd
    alarm disarm        Disarms all alarms
    alarm list        Lists all alarms
    defrag            Defragments the storage of the etcd members with given endpoints
    endpoint health        Checks the healthiness of endpoints specified <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span>--endpoints<span class="token variable">`</span></span> flag
    endpoint status        Prints out the status of endpoints specified <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span>--endpoints<span class="token variable">`</span></span> flag
    endpoint hashkv        Prints the KV <span class="token function">history</span> <span class="token function">hash</span> <span class="token keyword">for</span> each endpoint <span class="token keyword">in</span> --endpoints
    move-leader        Transfers leadership to another etcd cluster member.
    <span class="token function">watch</span>            Watches events stream on keys or prefixes
    version            Prints the version of etcdctl
    lease grant        Creates leases
    lease revoke        Revokes leases
    lease timetolive    Get lease information
    lease list        List all active leases
    lease keep-alive    Keeps leases alive <span class="token punctuation">(</span>renew<span class="token punctuation">)</span>
    member add        Adds a member into the cluster
    member remove        Removes a member from the cluster
    member update        Updates a member <span class="token keyword">in</span> the cluster
    member list        Lists all members <span class="token keyword">in</span> the cluster
    snapshot save        Stores an etcd node backend snapshot to a given <span class="token function">file</span>
    snapshot restore    Restores an etcd member snapshot to an etcd directory
    snapshot status        Gets backend snapshot status of a given <span class="token function">file</span>
    make-mirror        Makes a mirror at the destination etcd cluster
    migrate            Migrates keys <span class="token keyword">in</span> a v2 store to a mvcc store
    lock            Acquires a named lock
    elect            Observes and participates <span class="token keyword">in</span> leader election
    auth <span class="token function">enable</span>        Enables authentication
    auth disable        Disables authentication
    user add        Adds a new user
    user delete        Deletes a user
    user get        Gets detailed information of a user
    user list        Lists all <span class="token function">users</span>
    user <span class="token function">passwd</span>        Changes password of user
    user grant-role        Grants a role to a user
    user revoke-role    Revokes a role from a user
    role add        Adds a new role
    role delete        Deletes a role
    role get        Gets detailed information of a role
    role list        Lists all roles
    role grant-permission    Grants a key to a role
    role revoke-permission    Revokes a key from a role
    check perf        Check the performance of the etcd cluster
    <span class="token function">help</span>            Help about any <span class="token function">command</span>

OPTIONS:
      --cacert<span class="token operator">=</span><span class="token string">&quot;&quot;</span>                verify certificates of TLS-enabled secure servers using this CA bundle
      --cert<span class="token operator">=</span><span class="token string">&quot;&quot;</span>                    identify secure client using this TLS certificate <span class="token function">file</span>
      --command-timeout<span class="token operator">=</span>5s            <span class="token function">timeout</span> <span class="token keyword">for</span> short running <span class="token function">command</span> <span class="token punctuation">(</span>excluding dial timeout<span class="token punctuation">)</span>
      --debug<span class="token punctuation">[</span><span class="token operator">=</span>false<span class="token punctuation">]</span>                <span class="token function">enable</span> client-side debug logging
      --dial-timeout<span class="token operator">=</span>2s                dial <span class="token function">timeout</span> <span class="token keyword">for</span> client connections
  -d, --discovery-srv<span class="token operator">=</span><span class="token string">&quot;&quot;</span>            domain name to query <span class="token keyword">for</span> SRV records describing cluster endpoints
      --endpoints<span class="token operator">=</span><span class="token punctuation">[</span>127.0.0.1:2379<span class="token punctuation">]</span>        gRPC endpoints
      --hex<span class="token punctuation">[</span><span class="token operator">=</span>false<span class="token punctuation">]</span>                print byte strings as hex encoded strings
      --insecure-discovery<span class="token punctuation">[</span><span class="token operator">=</span>true<span class="token punctuation">]</span>        accept insecure SRV records describing cluster endpoints
      --insecure-skip-tls-verify<span class="token punctuation">[</span><span class="token operator">=</span>false<span class="token punctuation">]</span>    skip server certificate verification
      --insecure-transport<span class="token punctuation">[</span><span class="token operator">=</span>true<span class="token punctuation">]</span>        disable transport security <span class="token keyword">for</span> client connections
      --keepalive-time<span class="token operator">=</span>2s            keepalive <span class="token function">time</span> <span class="token keyword">for</span> client connections
      --keepalive-timeout<span class="token operator">=</span>6s            keepalive <span class="token function">timeout</span> <span class="token keyword">for</span> client connections
      --key<span class="token operator">=</span><span class="token string">&quot;&quot;</span>                    identify secure client using this TLS key <span class="token function">file</span>
      --user<span class="token operator">=</span><span class="token string">&quot;&quot;</span>                    username<span class="token punctuation">[</span>:password<span class="token punctuation">]</span> <span class="token keyword">for</span> authentication <span class="token punctuation">(</span>prompt <span class="token keyword">if</span> password is not supplied<span class="token punctuation">)</span>
  -w, --write-out<span class="token operator">=</span><span class="token string">&quot;simple&quot;</span>            <span class="token keyword">set</span> the output <span class="token function">format</span> <span class="token punctuation">(</span>fields, json, protobuf, simple, table<span class="token punctuation">)</span>
</code></pre>
<h1 id="3-etcdctl-&#x5E38;&#x7528;&#x547D;&#x4EE4;">3. etcdctl &#x5E38;&#x7528;&#x547D;&#x4EE4;</h1>
<h2 id="31-&#x6307;&#x5B9A;etcd&#x96C6;&#x7FA4;">3.1. &#x6307;&#x5B9A;etcd&#x96C6;&#x7FA4;</h2>
<pre class="language-"><code class="lang-bash">HOST_1<span class="token operator">=</span>10.240.0.17
HOST_2<span class="token operator">=</span>10.240.0.18
HOST_3<span class="token operator">=</span>10.240.0.19
ENDPOINTS<span class="token operator">=</span><span class="token variable">$HOST_1</span>:2379,<span class="token variable">$HOST_2</span>:2379,<span class="token variable">$HOST_3</span>:2379

etcdctl --endpoints<span class="token operator">=</span><span class="token variable">$ENDPOINTS</span> member list
</code></pre>
<p>&#x5982;&#x679C;etcd&#x8BBE;&#x7F6E;&#x4E86;&#x8BC1;&#x4E66;&#x8BBF;&#x95EE;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x6DFB;&#x52A0;&#x8BC1;&#x4E66;&#x76F8;&#x5173;&#x53C2;&#x6570;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash">ETCDCTL_API<span class="token operator">=</span>3 etcdctl --endpoints<span class="token operator">=</span><span class="token variable">$ENDPOINTS</span> --cacert<span class="token operator">=</span><span class="token operator">&lt;</span>ca-file<span class="token operator">&gt;</span> --cert<span class="token operator">=</span><span class="token operator">&lt;</span>cert-file<span class="token operator">&gt;</span> --key<span class="token operator">=</span><span class="token operator">&lt;</span>key-file<span class="token operator">&gt;</span>  <span class="token operator">&lt;</span>command<span class="token operator">&gt;</span>
</code></pre>
<p>&#x53C2;&#x6570;&#x8BF4;&#x660E;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash">  --cacert<span class="token operator">=</span><span class="token string">&quot;&quot;</span>                verify certificates of TLS-enabled secure servers using this CA bundle
  --cert<span class="token operator">=</span><span class="token string">&quot;&quot;</span>                    identify secure client using this TLS certificate <span class="token function">file</span>
  --key<span class="token operator">=</span><span class="token string">&quot;&quot;</span>                    identify secure client using this TLS key <span class="token function">file</span>
  --endpoints<span class="token operator">=</span><span class="token punctuation">[</span>127.0.0.1:2379<span class="token punctuation">]</span>        gRPC endpoints
</code></pre>
<p>&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;alias&#x547D;&#x4EE4;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># alias &#x547D;&#x4EE4;&#xFF0C;&#x907F;&#x514D;&#x6BCF;&#x6B21;&#x9700;&#x8981;&#x8F93;&#x5165;&#x8BC1;&#x4E66;&#x53C2;&#x6570;</span>
<span class="token function">alias</span> ectl<span class="token operator">=</span><span class="token string">&apos;ETCDCTL_API=3 etcdctl --endpoints=<span class="token variable">$ENDPOINTS</span> --cacert=&lt;ca-file&gt; --cert=&lt;cert-file&gt; --key=&lt;key-file&gt;&apos;</span>

<span class="token comment"># &#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x522B;&#x540D;&#x6267;&#x884C;&#x547D;&#x4EE4;</span>
ectl <span class="token operator">&lt;</span>command<span class="token operator">&gt;</span>
</code></pre>
<h2 id="32-&#x589E;&#x5220;&#x6539;&#x67E5;">3.2. &#x589E;&#x5220;&#x6539;&#x67E5;</h2>
<p><strong>1&#x3001;&#x589E;</strong></p>
<pre class="language-"><code class="lang-bash">etcdctl --endpoints<span class="token operator">=</span><span class="token variable">$ENDPOINTS</span> put foo <span class="token string">&quot;Hello World!&quot;</span>
</code></pre>
<p><strong>2&#x3001;&#x67E5;</strong></p>
<pre class="language-"><code class="lang-bash">etcdctl --endpoints<span class="token operator">=</span><span class="token variable">$ENDPOINTS</span> get foo
etcdctl --endpoints<span class="token operator">=</span><span class="token variable">$ENDPOINTS</span> --write-out<span class="token operator">=</span><span class="token string">&quot;json&quot;</span> get foo
</code></pre>
<p>&#x57FA;&#x4E8E;&#x76F8;&#x540C;&#x524D;&#x7F00;&#x67E5;&#x627E;</p>
<pre class="language-"><code class="lang-bash">etcdctl --endpoints<span class="token operator">=</span><span class="token variable">$ENDPOINTS</span> put web1 value1
etcdctl --endpoints<span class="token operator">=</span><span class="token variable">$ENDPOINTS</span> put web2 value2
etcdctl --endpoints<span class="token operator">=</span><span class="token variable">$ENDPOINTS</span> put web3 value3

etcdctl --endpoints<span class="token operator">=</span><span class="token variable">$ENDPOINTS</span> get web --prefix
</code></pre>
<p>&#x5217;&#x51FA;&#x6240;&#x6709;&#x7684;key</p>
<pre class="language-"><code class="lang-bash">etcdctl --endpoints<span class="token operator">=</span><span class="token variable">$ENDPOINTS</span> get / --prefix --keys-only
</code></pre>
<p>3&#x3001;<strong>&#x5220;</strong></p>
<pre class="language-"><code class="lang-bash">etcdctl --endpoints<span class="token operator">=</span><span class="token variable">$ENDPOINTS</span> put key myvalue
etcdctl --endpoints<span class="token operator">=</span><span class="token variable">$ENDPOINTS</span> del key

etcdctl --endpoints<span class="token operator">=</span><span class="token variable">$ENDPOINTS</span> put k1 value1
etcdctl --endpoints<span class="token operator">=</span><span class="token variable">$ENDPOINTS</span> put k2 value2
etcdctl --endpoints<span class="token operator">=</span><span class="token variable">$ENDPOINTS</span> del k --prefix
</code></pre>
<h2 id="33-&#x96C6;&#x7FA4;&#x72B6;&#x6001;">3.3. &#x96C6;&#x7FA4;&#x72B6;&#x6001;</h2>
<p>&#x96C6;&#x7FA4;&#x72B6;&#x6001;&#x4E3B;&#x8981;&#x662F;<code>etcdctl endpoint status</code> &#x548C;<code>etcdctl endpoint health</code>&#x4E24;&#x6761;&#x547D;&#x4EE4;&#x3002;</p>
<pre class="language-"><code class="lang-bash">etcdctl --write-out<span class="token operator">=</span>table --endpoints<span class="token operator">=</span><span class="token variable">$ENDPOINTS</span> endpoint status

+------------------+------------------+---------+---------+-----------+-----------+------------+
<span class="token operator">|</span>     ENDPOINT     <span class="token operator">|</span>        ID        <span class="token operator">|</span> VERSION <span class="token operator">|</span> DB SIZE <span class="token operator">|</span> IS LEADER <span class="token operator">|</span> RAFT TERM <span class="token operator">|</span> RAFT INDEX <span class="token operator">|</span>
+------------------+------------------+---------+---------+-----------+-----------+------------+
<span class="token operator">|</span> 10.240.0.17:2379 <span class="token operator">|</span> 4917a7ab173fabe7 <span class="token operator">|</span> 3.0.0   <span class="token operator">|</span> 45 kB   <span class="token operator">|</span> <span class="token boolean">true</span>      <span class="token operator">|</span>         4 <span class="token operator">|</span>      16726 <span class="token operator">|</span>
<span class="token operator">|</span> 10.240.0.18:2379 <span class="token operator">|</span> 59796ba9cd1bcd72 <span class="token operator">|</span> 3.0.0   <span class="token operator">|</span> 45 kB   <span class="token operator">|</span> <span class="token boolean">false</span>     <span class="token operator">|</span>         4 <span class="token operator">|</span>      16726 <span class="token operator">|</span>
<span class="token operator">|</span> 10.240.0.19:2379 <span class="token operator">|</span> 94df724b66343e6c <span class="token operator">|</span> 3.0.0   <span class="token operator">|</span> 45 kB   <span class="token operator">|</span> <span class="token boolean">false</span>     <span class="token operator">|</span>         4 <span class="token operator">|</span>      16726 <span class="token operator">|</span>
+------------------+------------------+---------+---------+-----------+-----------+------------+

etcdctl --endpoints<span class="token operator">=</span><span class="token variable">$ENDPOINTS</span> endpoint health

10.240.0.17:2379 is healthy: successfully committed proposal: took <span class="token operator">=</span> 3.345431ms
10.240.0.19:2379 is healthy: successfully committed proposal: took <span class="token operator">=</span> 3.767967ms
10.240.0.18:2379 is healthy: successfully committed proposal: took <span class="token operator">=</span> 4.025451ms
</code></pre>
<h2 id="34-&#x96C6;&#x7FA4;&#x6210;&#x5458;">3.4. &#x96C6;&#x7FA4;&#x6210;&#x5458;</h2>
<p>&#x8DDF;&#x96C6;&#x7FA4;&#x6210;&#x5458;&#x76F8;&#x5173;&#x7684;&#x547D;&#x4EE4;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash">    member add            Adds a member into the cluster
    member remove        Removes a member from the cluster
    member update        Updates a member <span class="token keyword">in</span> the cluster
    member list            Lists all members <span class="token keyword">in</span> the cluster
</code></pre>
<p>&#x4F8B;&#x5982; <code>etcdctl member list</code>&#x5217;&#x51FA;&#x96C6;&#x7FA4;&#x6210;&#x5458;&#x7684;&#x547D;&#x4EE4;&#x3002;</p>
<pre class="language-"><code class="lang-bash">etcdctl --endpoints<span class="token operator">=</span>http://172.16.5.4:12379 member list -w table

+-----------------+---------+-------+------------------------+-----------------------------------------------+
<span class="token operator">|</span>       ID        <span class="token operator">|</span> STATUS  <span class="token operator">|</span> NAME  <span class="token operator">|</span>       PEER ADDRS       <span class="token operator">|</span>                 CLIENT ADDRS                  <span class="token operator">|</span>
+-----------------+---------+-------+------------------------+-----------------------------------------------+
<span class="token operator">|</span> c856d92a82ba66a <span class="token operator">|</span> started <span class="token operator">|</span> etcd0 <span class="token operator">|</span> http://172.16.5.4:2380 <span class="token operator">|</span> http://172.16.5.4:2379,http://172.16.5.4:4001 <span class="token operator">|</span>
+-----------------+---------+-------+------------------------+-----------------------------------------------+
</code></pre>
<h1 id="4-etcdctl-get">4. etcdctl get</h1>
<p>&#x4F7F;&#x7528;<code>etcdctl {command} --help</code>&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x5177;&#x4F53;&#x547D;&#x4EE4;&#x7684;&#x5E2E;&#x52A9;&#x4FE1;&#x606F;&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># etcdctl get --help</span>
NAME:
    get - Gets the key or a range of keys

USAGE:
    etcdctl get <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token operator">&lt;</span>key<span class="token operator">&gt;</span> <span class="token punctuation">[</span>range_end<span class="token punctuation">]</span>

OPTIONS:
      --consistency<span class="token operator">=</span><span class="token string">&quot;l&quot;</span>            Linearizable<span class="token punctuation">(</span>l<span class="token punctuation">)</span> or Serializable<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
      --from-key<span class="token punctuation">[</span><span class="token operator">=</span>false<span class="token punctuation">]</span>        Get keys that are greater than or equal to the given key using byte compare
      --keys-only<span class="token punctuation">[</span><span class="token operator">=</span>false<span class="token punctuation">]</span>        Get only the keys
      --limit<span class="token operator">=</span>0                Maximum number of results
      --order<span class="token operator">=</span><span class="token string">&quot;&quot;</span>            Order of results<span class="token punctuation">;</span> ASCEND or DESCEND <span class="token punctuation">(</span>ASCEND by default<span class="token punctuation">)</span>
      --prefix<span class="token punctuation">[</span><span class="token operator">=</span>false<span class="token punctuation">]</span>            Get keys with matching prefix
      --print-value-only<span class="token punctuation">[</span><span class="token operator">=</span>false<span class="token punctuation">]</span>    Only <span class="token function">write</span> values when using the <span class="token string">&quot;simple&quot;</span> output <span class="token function">format</span>
      --rev<span class="token operator">=</span>0                Specify the kv revision
      --sort-by<span class="token operator">=</span><span class="token string">&quot;&quot;</span>            Sort target<span class="token punctuation">;</span> CREATE, KEY, MODIFY, VALUE, or VERSION

GLOBAL OPTIONS:
      --cacert<span class="token operator">=</span><span class="token string">&quot;&quot;</span>                verify certificates of TLS-enabled secure servers using this CA bundle
      --cert<span class="token operator">=</span><span class="token string">&quot;&quot;</span>                    identify secure client using this TLS certificate <span class="token function">file</span>
      --command-timeout<span class="token operator">=</span>5s            <span class="token function">timeout</span> <span class="token keyword">for</span> short running <span class="token function">command</span> <span class="token punctuation">(</span>excluding dial timeout<span class="token punctuation">)</span>
      --debug<span class="token punctuation">[</span><span class="token operator">=</span>false<span class="token punctuation">]</span>                <span class="token function">enable</span> client-side debug logging
      --dial-timeout<span class="token operator">=</span>2s                dial <span class="token function">timeout</span> <span class="token keyword">for</span> client connections
      --endpoints<span class="token operator">=</span><span class="token punctuation">[</span>127.0.0.1:2379<span class="token punctuation">]</span>        gRPC endpoints
      --hex<span class="token punctuation">[</span><span class="token operator">=</span>false<span class="token punctuation">]</span>                print byte strings as hex encoded strings
      --insecure-skip-tls-verify<span class="token punctuation">[</span><span class="token operator">=</span>false<span class="token punctuation">]</span>    skip server certificate verification
      --insecure-transport<span class="token punctuation">[</span><span class="token operator">=</span>true<span class="token punctuation">]</span>        disable transport security <span class="token keyword">for</span> client connections
      --key<span class="token operator">=</span><span class="token string">&quot;&quot;</span>                    identify secure client using this TLS key <span class="token function">file</span>
      --user<span class="token operator">=</span><span class="token string">&quot;&quot;</span>                    username<span class="token punctuation">[</span>:password<span class="token punctuation">]</span> <span class="token keyword">for</span> authentication <span class="token punctuation">(</span>prompt <span class="token keyword">if</span> password is not supplied<span class="token punctuation">)</span>
  -w, --write-out<span class="token operator">=</span><span class="token string">&quot;simple&quot;</span>            <span class="token keyword">set</span> the output <span class="token function">format</span> <span class="token punctuation">(</span>fields, json, protobuf, simple, table<span class="token punctuation">)</span>
</code></pre>
<p>&#x6587;&#x7AE0;&#x53C2;&#x8003;&#xFF1A;</p>
<p><a href="https://coreos.com/etcd/docs/latest/demo.html" target="_blank">https://coreos.com/etcd/docs/latest/demo.html</a></p>
<footer class="page-footer"><span class="copyright">Copyright &#xA9; www.huweihuang.com 2017-2018 all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">Updated at 
2020-03-03 14:47:16
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
                <a href="etcdctl-v2.html" class="navigation navigation-next navigation-unique" aria-label="Next page: etcdctl命令工具-V2">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"etcdctl命令工具-V3","level":"14.5.1","depth":2,"next":{"title":"etcdctl命令工具-V2","level":"14.5.2","depth":2,"path":"etcd/etcdctl-v2.md","ref":"etcd/etcdctl-v2.md","articles":[]},"previous":{"title":"etcdctl命令工具","level":"14.5","depth":1,"ref":"","articles":[{"title":"etcdctl命令工具-V3","level":"14.5.1","depth":2,"path":"etcd/etcdctl-v3.md","ref":"etcd/etcdctl-v3.md","articles":[]},{"title":"etcdctl命令工具-V2","level":"14.5.2","depth":2,"path":"etcd/etcdctl-v2.md","ref":"etcd/etcdctl-v2.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["github","codesnippet","splitter","page-toc-button","image-captions","editlink","back-to-top-button","-lunr","-search","search-plus","github-buttons@2.1.0","favicon@^0.0.2","tbfed-pagefooter@^0.0.1","3-ba","theme-default","-highlight","prism","prism-themes","sitemap-general","ga","disqus","donate"],"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright © www.huweihuang.com 2017-2018","modify_label":"Updated at ","modify_format":"YYYY-MM-DD HH:mm:ss"},"prism":{"css":["prismjs/themes/prism-okaidia.css"]},"disqus":{"useIdentifier":false,"shortName":"huweihuang"},"github":{"url":"https://github.com/huweihuang"},"editlink":{"label":"编辑本页","multilingual":false,"base":"https://github.com/huweihuang/kubernetes-notes/blob/master/"},"splitter":{},"donate":{"alipay":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1551599640/blog/donate/alipay.jpg","alipayText":"支付宝打赏","button":"赏","title":"","wechat":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1551599472/blog/donate/wechatpay.jpg","wechatText":"微信打赏"},"codesnippet":{},"sitemap-general":{"prefix":"https://www.huweihuang.com/kubernetes-notes/"},"fontsettings":{"theme":"white","family":"sans","size":2},"favicon":{"shortcut":"images/favicon.ico","bookmark":"images/favicon.ico","appleTouch":"images/favicon.ico","appleTouchMore":{"120x120":"images/favicon.ico","180x180":"images/favicon.ico"}},"page-toc-button":{},"back-to-top-button":{},"prism-themes":{},"github-buttons":{"repo":"huweihuang/kubernetes-notes","types":["star"],"size":"small"},"3-ba":{"configuration":"auto","token":"e146d71b77957235bba1e709d930f62e"},"ga":{"configuration":"auto","token":"UA-114718458-2"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"showLevel":true,"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}},"search-plus":{},"image-captions":{"caption":"图片 - _CAPTION_","variable_name":"_pictures"}},"theme":"default","author":"胡伟煌","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{"_pictures":[{"backlink":"paas/k8s.html#fig2.2.1","level":"2.2","list_caption":"Figure: k8s体系","alt":"k8s体系","nro":1,"url":"http://assets.processon.com/chart_image/5d7f7cafe4b08987f55cbee3.png","index":1,"caption_template":"图片 - _CAPTION_","label":"k8s体系","attributes":{},"skip":false,"key":"2.2.1"},{"backlink":"concepts/object/kubernetes-basic-concepts.html#fig4.2.2.1","level":"4.2.2","list_caption":"Figure: pod","alt":"pod","nro":2,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1510578930/article/kubernetes/concept/pod.png","index":1,"caption_template":"图片 - _CAPTION_","label":"pod","attributes":{},"skip":false,"key":"4.2.2.1"},{"backlink":"concepts/object/kubernetes-basic-concepts.html#fig4.2.2.2","level":"4.2.2","list_caption":"Figure: pod2","alt":"pod2","nro":3,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1510578930/article/kubernetes/concept/pod2.png","index":2,"caption_template":"图片 - _CAPTION_","label":"pod2","attributes":{},"skip":false,"key":"4.2.2.2"},{"backlink":"concepts/object/kubernetes-basic-concepts.html#fig4.2.2.3","level":"4.2.2","list_caption":"Figure: service","alt":"service","nro":4,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1510578930/article/kubernetes/concept/service.png","index":3,"caption_template":"图片 - _CAPTION_","label":"service","attributes":{},"skip":false,"key":"4.2.2.3"},{"backlink":"concepts/pod/pod-volume.html#fig4.3.5.1","level":"4.3.5","list_caption":"Figure: 这里写图片描述","alt":"这里写图片描述","nro":5,"url":"http://res.cloudinary.com/dqxtn0ick/image/upload/v1512804287/article/kubernetes/pod/pod_volume.png","index":1,"caption_template":"图片 - _CAPTION_","label":"这里写图片描述","attributes":{},"skip":false,"key":"4.3.5.1"},{"backlink":"concepts/pod/pod-scheduler.html#fig4.3.6.1","level":"4.3.6","list_caption":"Figure: 这里写图片描述","alt":"这里写图片描述","nro":6,"url":"http://res.cloudinary.com/dqxtn0ick/image/upload/v1512804287/article/kubernetes/pod/monitor_pod.png","index":1,"caption_template":"图片 - _CAPTION_","label":"这里写图片描述","attributes":{},"skip":false,"key":"4.3.6.1"},{"backlink":"concepts/pod/pod-scheduler.html#fig4.3.6.2","level":"4.3.6","list_caption":"Figure: 这里写图片描述","alt":"这里写图片描述","nro":7,"url":"http://res.cloudinary.com/dqxtn0ick/image/upload/v1512804286/article/kubernetes/pod/k8s_job.png","index":2,"caption_template":"图片 - _CAPTION_","label":"这里写图片描述","attributes":{},"skip":false,"key":"4.3.6.2"},{"backlink":"principle/kubernetes-core-principle-api-server.html#fig5.1.1.1","level":"5.1.1","list_caption":"Figure: kube-apiserver","alt":"kube-apiserver","nro":8,"url":"http://res.cloudinary.com/dqxtn0ick/image/upload/v1510579017/article/kubernetes/core/kube-apiserver.png","index":1,"caption_template":"图片 - _CAPTION_","label":"kube-apiserver","attributes":{},"skip":false,"key":"5.1.1.1"},{"backlink":"principle/kubernetes-core-principle-controller-manager.html#fig5.1.2.1","level":"5.1.2","list_caption":"Figure: controller manager","alt":"controller manager","nro":9,"url":"http://res.cloudinary.com/dqxtn0ick/image/upload/v1510579017/article/kubernetes/core/controller-manager.png","index":1,"caption_template":"图片 - _CAPTION_","label":"controller manager","attributes":{},"skip":false,"key":"5.1.2.1"},{"backlink":"principle/kubernetes-core-principle-controller-manager.html#fig5.1.2.2","level":"5.1.2","list_caption":"Figure: Node Controller","alt":"Node Controller","nro":10,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1510579017/article/kubernetes/core/NodeController.png","index":2,"caption_template":"图片 - _CAPTION_","label":"Node Controller","attributes":{},"skip":false,"key":"5.1.2.2"},{"backlink":"principle/kubernetes-core-principle-controller-manager.html#fig5.1.2.3","level":"5.1.2","list_caption":"Figure: ResourceQuota Controller","alt":"ResourceQuota Controller","nro":11,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1510579017/article/kubernetes/core/ResourceQuotaController.png","index":3,"caption_template":"图片 - _CAPTION_","label":"ResourceQuota Controller","attributes":{},"skip":false,"key":"5.1.2.3"},{"backlink":"principle/kubernetes-core-principle-controller-manager.html#fig5.1.2.4","level":"5.1.2","list_caption":"Figure: Endpoint Controller","alt":"Endpoint Controller","nro":12,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1510579017/article/kubernetes/core/EndpointController.png","index":4,"caption_template":"图片 - _CAPTION_","label":"Endpoint Controller","attributes":{},"skip":false,"key":"5.1.2.4"},{"backlink":"principle/kubernetes-core-principle-scheduler.html#fig5.1.3.1","level":"5.1.3","list_caption":"Figure: scheduler","alt":"scheduler","nro":13,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1510579017/article/kubernetes/core/scheduler.png","index":1,"caption_template":"图片 - _CAPTION_","label":"scheduler","attributes":{},"skip":false,"key":"5.1.3.1"},{"backlink":"network/docker-network.html#fig6.1.1","level":"6.1","list_caption":"Figure: 这里写图片描述","alt":"这里写图片描述","nro":14,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1510578957/article/kubernetes/network/container-network.png","index":1,"caption_template":"图片 - _CAPTION_","label":"这里写图片描述","attributes":{},"skip":false,"key":"6.1.1"},{"backlink":"network/docker-network.html#fig6.1.2","level":"6.1","list_caption":"Figure: 这里写图片描述","alt":"这里写图片描述","nro":15,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1510578957/article/kubernetes/network/bridge.png","index":2,"caption_template":"图片 - _CAPTION_","label":"这里写图片描述","attributes":{},"skip":false,"key":"6.1.2"},{"backlink":"network/kubernetes-network.html#fig6.2.1","level":"6.2","list_caption":"Figure: 这里写图片描述","alt":"这里写图片描述","nro":16,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1510578957/article/kubernetes/network/network-arch.png","index":1,"caption_template":"图片 - _CAPTION_","label":"这里写图片描述","attributes":{},"skip":false,"key":"6.2.1"},{"backlink":"network/kubernetes-network.html#fig6.2.2","level":"6.2","list_caption":"Figure: 这里写图片描述","alt":"这里写图片描述","nro":17,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1510578957/article/kubernetes/network/pod-network.png","index":2,"caption_template":"图片 - _CAPTION_","label":"这里写图片描述","attributes":{},"skip":false,"key":"6.2.2"},{"backlink":"network/flannel/flannel-introduction.html#fig6.3.1.1","level":"6.3.1","list_caption":"Figure: 动态路由","alt":"动态路由","nro":18,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1510578568/article/flannel/dynamic-route.png","index":1,"caption_template":"图片 - _CAPTION_","label":"动态路由","attributes":{},"skip":false,"key":"6.3.1.1"},{"backlink":"network/flannel/flannel-introduction.html#fig6.3.1.2","level":"6.3.1","list_caption":"Figure: flannel","alt":"flannel","nro":19,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1510578568/article/flannel/flannel.png","index":2,"caption_template":"图片 - _CAPTION_","label":"flannel","attributes":{},"skip":false,"key":"6.3.1.2"},{"backlink":"network/flannel/flannel-introduction.html#fig6.3.1.3","level":"6.3.1","list_caption":"Figure: UDP封装","alt":"UDP封装","nro":20,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1510578569/article/flannel/udp.png","index":3,"caption_template":"图片 - _CAPTION_","label":"UDP封装","attributes":{},"skip":false,"key":"6.3.1.3"},{"backlink":"network/flannel/flannel-introduction.html#fig6.3.1.4","level":"6.3.1","list_caption":"Figure: docker启动参数","alt":"docker启动参数","nro":21,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1510578568/article/flannel/docker-init-args.png","index":4,"caption_template":"图片 - _CAPTION_","label":"docker启动参数","attributes":{},"skip":false,"key":"6.3.1.4"},{"backlink":"network/flannel/flannel-introduction.html#fig6.3.1.5","level":"6.3.1","list_caption":"Figure: 数据发送节点路由表","alt":"数据发送节点路由表","nro":22,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1510578568/article/flannel/DataSendRouteTable.png","index":5,"caption_template":"图片 - _CAPTION_","label":"数据发送节点路由表","attributes":{},"skip":false,"key":"6.3.1.5"},{"backlink":"network/flannel/flannel-introduction.html#fig6.3.1.6","level":"6.3.1","list_caption":"Figure: 数据接收节点路由表","alt":"数据接收节点路由表","nro":23,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1510578568/article/flannel/DataReceiveRouteTable.png","index":6,"caption_template":"图片 - _CAPTION_","label":"数据接收节点路由表","attributes":{},"skip":false,"key":"6.3.1.6"},{"backlink":"resource/lxcfs/lxcfs.html#fig8.4.1","level":"8.4","list_caption":"Figure: lxcfs","alt":"lxcfs","nro":24,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1626002975/article/kubernetes/resource/lxcfs/lxcfs.webp","index":1,"caption_template":"图片 - _CAPTION_","label":"lxcfs","attributes":{},"skip":false,"key":"8.4.1"},{"backlink":"trouble-shooting/node/cgroup-subsystem-not-mount.html#fig11.1.3.1","level":"11.1.3","list_caption":"Figure: kubelet","alt":"kubelet","nro":25,"url":"../../images/troubleshooting/cgroup-not-mount.png","index":1,"caption_template":"图片 - _CAPTION_","label":"kubelet","attributes":{},"skip":false,"key":"11.1.3.1"},{"backlink":"runtime/runtime.html#fig13.1.1.1","level":"13.1.1","list_caption":"Figure: 关系图","alt":"关系图","nro":26,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1631845163/article/kubernetes/containerd/runtime.webp","index":1,"caption_template":"图片 - _CAPTION_","label":"关系图","attributes":{},"skip":false,"key":"13.1.1.1"},{"backlink":"etcd/etcd-introduction.html#fig14.1.1","level":"14.1","list_caption":"Figure: etcd的架构图","alt":"etcd的架构图","nro":27,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1510578532/article/etcd/etcd-architecture.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"etcd的架构图","attributes":{},"skip":false,"key":"14.1.1"},{"backlink":"etcd/raft.html#fig14.2.1","level":"14.2","list_caption":"Figure: raft","alt":"raft","nro":28,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1510578532/article/etcd/raft.png","index":1,"caption_template":"图片 - _CAPTION_","label":"raft","attributes":{},"skip":false,"key":"14.2.1"},{"backlink":"multi-cluster/karmada.html#fig15.3.1.1","level":"15.3.1","list_caption":"Figure: img","alt":"img","nro":29,"url":"https://support.huaweicloud.com/productdesc-mcp/zh-cn_image_0000001094636778.png","index":1,"caption_template":"图片 - _CAPTION_","label":"img","attributes":{},"skip":false,"key":"15.3.1.1"},{"backlink":"multi-cluster/karmada.html#fig15.3.1.2","level":"15.3.1","list_caption":"Figure: img","alt":"img","nro":30,"url":"https://support.huaweicloud.com/productdesc-mcp/zh-cn_image_0000001141316765.png","index":2,"caption_template":"图片 - _CAPTION_","label":"img","attributes":{},"skip":false,"key":"15.3.1.2"},{"backlink":"kubeedge/kubeedge-arch.html#fig16.1.1","level":"16.1","list_caption":"Figure: kubeedge-arch","alt":"kubeedge-arch","nro":31,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1580806242/article/kubernetes/kubeedge/kubeedge_arch.png","index":1,"caption_template":"图片 - _CAPTION_","label":"kubeedge-arch","attributes":{},"skip":false,"key":"16.1.1"},{"backlink":"monitor/kubernetes-cluster-monitoring.html#fig17.1.1","level":"17.1","list_caption":"Figure: k8s监控架构图","alt":"k8s监控架构图","nro":32,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1510579058/article/kubernetes/monitor/k8s-monitor-arch.png","index":1,"caption_template":"图片 - _CAPTION_","label":"k8s监控架构图","attributes":{},"skip":false,"key":"17.1.1"},{"backlink":"monitor/cadvisor-introduction.html#fig17.2.1","level":"17.2","list_caption":"Figure: cAdvisor","alt":"cAdvisor","nro":33,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1510579058/article/kubernetes/monitor/cAdvisor.png","index":1,"caption_template":"图片 - _CAPTION_","label":"cAdvisor","attributes":{},"skip":false,"key":"17.2.1"},{"backlink":"kvm/kubevirt/kubevirt-introduction.html#fig19.2.1.1","level":"19.2.1","list_caption":"Figure: arch","alt":"arch","nro":34,"url":"https://res.cloudinary.com/dqxtn0ick/image/upload/v1650005691/article/kubernetes/kubevirt/architecture.png","index":1,"caption_template":"图片 - _CAPTION_","label":"arch","attributes":{},"skip":false,"key":"19.2.1.1"}]},"title":"Kubernetes 学习笔记","language":"zh-hans","links":{"sidebar":{"Golang 学习笔记":"https://www.huweihuang.com/golang-notes/","Linux 学习笔记":"https://www.huweihuang.com/linux-notes/","Blockchain 学习笔记":"https://www.huweihuang.com/blockchain-notes/","数据结构学习笔记":"https://www.huweihuang.com/data-structure-notes/","Kubernetes 学习笔记":"https://www.huweihuang.com/kubernetes-notes/","Kubernetes 源码分析笔记":"https://www.huweihuang.com/k8s-source-code-analysis/","Docker 学习笔记":"https://www.huweihuang.com/docker-notes/","Python 学习笔记":"https://www.huweihuang.com/python-notes/","胡伟煌的博客":"https://www.huweihuang.com"}},"gitbook":"*","description":"Kubernetes 学习笔记"},"file":{"path":"etcd/etcdctl-v3.md","mtime":"2020-03-03T06:47:16.910Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2022-04-21T03:43:57.262Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-page-toc-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-editlink/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-3-ba/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.16.1/URI.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-disqus/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-donate/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

